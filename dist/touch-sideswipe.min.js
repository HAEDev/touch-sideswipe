(function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.TouchSideSwipe=e()})(this,function(){var t=function(t){"use strict";function e(){k=!0,v=document.getElementById(W.elInitID),w=document.createElement("div"),b=document.createElement("div"),S=document.createElement("div"),x=document.createElement("div"),w.appendChild(b),b.appendChild(S),v.parentNode.insertBefore(w,v),b.appendChild(v),document.body.insertBefore(x,document.body.lastChild),w.classList="tss",b.classList="tss-wrap",S.classList="tss-label",x.classList="tss-bg",L=E>499?W.elSubmainWidth:E*W.elSubmainMaxWidth,b.style.width=L+"px",g=L+W.sideHookWidth,w.style.transitionDuration=W.moveSpeed+"s",x.style.transitionDuration=W.moveSpeed+"s",r()}function i(){y===!0&&r(),E=window.screen.availWidth,L=E>499?W.elSubmainWidth:E*W.elSubmainMaxWidth,g=L+W.sideHookWidth,b.style.width=L+"px",w.style.transform="translateX("+-L+"px)",w.style.width=g+"px"}function n(t){document.body.style.overflow="hidden",w.style.transitionDuration="0s",x.style.transitionDuration="0s",x.style.zIndex=999,f=w.getBoundingClientRect().left,m=t.changedTouches[0].clientX}function s(t){p=t.changedTouches[0].clientX;var e=p-(m-f);if(e<=0){m>L&&(e+=m-L),p<=L&&(w.style.transform="translateX("+e+"px)");var i=p/L;i>0&&i<1&&(i>=W.opacityBackground?x.style.opacity=W.opacityBackground:x.style.opacity=i)}}function o(t){var e=t.changedTouches[0].clientX;document.body.style.overflow="",w.style.transitionDuration=W.moveSpeed+"s",x.style.transitionDuration=W.moveSpeed+"s",!y&&e>m?Math.abs(m-e)>W.shiftForStart?c():r():y&&e<m&&e<=L&&(m>L&&e<L-W.shiftForStart||m<L&&Math.abs(m-e)>W.shiftForStart?r():c())}function d(t){t.stopPropagation(),y===!1?c():r()}function a(t){t.stopPropagation(),t.clientX>f+L&&r()}function c(){x.style.opacity=W.opacityBackground,w.style.width=E+"px",w.style.transform="translateX(0px)",w.classList.remove("tss--close"),w.classList.add("tss--open"),x.classList.remove("tss-bg--close"),x.classList.add("tss-bg--open"),x.style.zIndex="999",y=!0}function r(){document.body.style.overflow="",x.style.opacity=0,w.style.width=g+"px",w.style.transform="translateX("+-L+"px)",w.classList.remove("tss--open"),w.classList.add("tss--close"),x.classList.remove("tss-bg--open"),x.classList.add("tss-bg--close"),x.style.zIndex="-999",y=!1}function l(){document.body.insertBefore(v,w),document.body.removeChild(w),document.body.removeChild(x),k=!1}function u(){e(),window.addEventListener("resize",i,!1),w.addEventListener("touchstart",n,!1),w.addEventListener("touchmove",s,!1),w.addEventListener("touchend",o,!1),w.addEventListener("click",a,!1),S.addEventListener("click",d,!1)}function h(t){var e=window.screen.availWidth;e<1024?(k&&l(),u()):k&&l()}var m,p,y,f,v,w,b,S,x,L,g,W={elInitID:t.elementID||"touchSideSwipe",elSubmainWidth:t.elementWidth||400,elSubmainMaxWidth:t.elementMaxWidth||.8,sideHookWidth:t.sideHookWidth||10,moveSpeed:t.moveSpeed||.2,opacityBackground:t.opacityBackground||.8,shiftForStart:t.shiftForStart||50,windowMaxWidth:t.windowMaxWidth||1024},E=window.screen.availWidth,k=!1;E<1024?(u(),window.addEventListener("resize",h,!1)):window.addEventListener("resize",h,!1)};return t});