(function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.TouchSideSwipe=e()})(this,function(){var t=function(t){"use strict";function e(){u===!0&&d(m,w),y=window.screen.availWidth,f=y<500?.8*y:c.wrappedElementWidth,v=f+c.sideHookWidth,h.style.width=f+"px",m.style.transform="translateX("+-f+"px)",m.style.width=v+"px"}function s(t){m.style.transitionDuration="0s",w.style.transitionDuration="0s",w.style.zIndex=999,r=m.getBoundingClientRect().left,l=t.touches[0].pageX}function n(t){t.preventDefault();var e=t.touches[0].pageX,s=e-(l-r);if(s<0){m.style.transform="translateX("+s+"px)";var n=e/f;n>0&&n<1&&(n>=c.opacityBackground?w.style.opacity=c.opacityBackground:w.style.opacity=n),e>f&&(h.style.transform="translateX("+-s+"px)",w.style.opacity=c.opacityBackground)}p.push(t.touches[0].pageX)}function a(t){m.style.transitionDuration=c.moveSpeed+"s",w.style.transitionDuration=c.moveSpeed+"s",h.style.transform="";var e=p[p.length-1],s=p[p.length-2];Math.abs(e-s)>0&&(e>s?o(m,w):d(m,w)),p=[]}function i(t){u===!1?o():t.clientX>f&&d()}function o(){w.style.opacity=c.opacityBackground,m.style.width=y+"px",m.style.transform="translateX(0px)",m.classList.remove("tss--close"),m.classList.add("tss--open"),w.classList.remove("tss-bg--close"),w.classList.add("tss-bg--open"),w.style.zIndex="999",u=!0}function d(){w.style.opacity=0,m.style.width=v+"px",m.style.transform="translateX("+-f+"px)",m.classList.remove("tss--open"),m.classList.add("tss--close"),w.classList.remove("tss-bg--open"),w.classList.add("tss-bg--close"),w.style.zIndex="-999",u=!1}var l,r,c={wrappedElementID:t.elementID||"touchSideSwipe",wrappedElementWidth:t.elementWidth||400,wrappedElementMaxWidth:t.elementMaxWidth||.8,sideHookWidth:t.sideHookWidth||10,moveSpeed:t.moveSpeed||.2,opacityBackground:t.opacityBackground||.8},p=[],u=!1,y=window.screen.availWidth,m=document.createElement("div"),h=document.getElementById(c.wrappedElementID);h.parentNode.insertBefore(m,h),m.appendChild(h),h.classList.add("tss_wrapped");var f;f=y>499?c.wrappedElementWidth:.8*y,h.style.width=f+"px";var v=f+c.sideHookWidth;m.classList="tss tss--close",m.style.transform="translateX("+-f+"px)",m.style.width=v+"px";var w=document.createElement("div");document.body.insertBefore(w,document.body.lastChild),w.classList="tss-bg";var g=document.createElement("div");h.appendChild(g),g.classList="tss-label",window.onresize=e,m.addEventListener("touchstart",s,!1),m.addEventListener("touchmove",n,!1),m.addEventListener("touchend",a,!1),m.addEventListener("click",i,!1)};return t});