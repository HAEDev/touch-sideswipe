(function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.TouchSideSwipe=e()})(this,function(){var t=function(t){"use strict";function e(){c===!0&&d(),y=window.screen.availWidth,x=y<500?y*elSubMainMaxWidth:p.elSubMainWidth,b=x+p.sideHookWidth,f.style.width=x+"px",m.style.transform="translateX("+-x+"px)",m.style.width=b+"px"}function s(t){document.body.style.overflow="hidden",m.style.transitionDuration="0s",w.style.transitionDuration="0s",w.style.zIndex=999,u=m.getBoundingClientRect().left,l=t.touches[0].pageX}function i(t){r=t.touches[0].pageX;var e=r-(l-u);if(e<0){l>x&&(e+=l-x),r<x&&(m.style.transform="translateX("+e+"px)");var s=r/x;s>0&&s<1&&(s>=p.opacityBackground?w.style.opacity=p.opacityBackground:w.style.opacity=s)}}function n(t){document.body.style.overflow="",f.style.transform="",m.style.transitionDuration=p.moveSpeed+"s",w.style.transitionDuration=p.moveSpeed+"s",Math.abs(l-r)>p.shiftForStart?r>l?a():d():r>l?d():a()}function o(t){c?t.clientX>x&&d():a()}function a(){w.style.opacity=p.opacityBackground,m.style.width=y+"px",m.style.transform="translateX(0px)",m.classList.remove("tss--close"),m.classList.add("tss--open"),w.classList.remove("tss-bg--close"),w.classList.add("tss-bg--open"),w.style.zIndex="999",c=!0}function d(){document.body.style.overflow="",w.style.opacity=0,m.style.width=b+"px",m.style.transform="translateX("+-x+"px)",m.classList.remove("tss--open"),m.classList.add("tss--close"),w.classList.remove("tss-bg--open"),w.classList.add("tss-bg--close"),w.style.zIndex="-999",c=!1}var l,r,c,u,p={elInitID:t.elementID||"touchSideSwipe",elSubMainWidth:t.elementWidth||400,elSubMainMaxWidth:t.elementMaxWidth||.8,sideHookWidth:t.sideHookWidth||10,moveSpeed:t.moveSpeed||.2,opacityBackground:t.opacityBackground||.8,shiftForStart:t.shiftForStart||30,windowMaxWidth:t.windowMaxWidth||1024},y=window.screen.availWidth,h=document.getElementById(p.elInitID),m=document.createElement("div"),f=document.createElement("div"),v=document.createElement("div"),w=document.createElement("div");m.appendChild(f),f.appendChild(v),h.parentNode.insertBefore(m,h),f.appendChild(h),document.body.insertBefore(w,document.body.lastChild),m.classList="tss",f.classList="tss-wrap",v.classList="tss-label",w.classList="tss-bg";var x;x=y>499?p.elSubMainWidth:y*p.elSubMainMaxWidth,f.style.width=x+"px";var b=x+p.sideHookWidth;m.style.transitionDuration=p.moveSpeed+"s",w.style.transitionDuration=p.moveSpeed+"s",d(),window.onresize=e,m.addEventListener("touchstart",s,!1),m.addEventListener("touchmove",i,!1),m.addEventListener("touchend",n,!1),m.addEventListener("click",o,!1)};return t});